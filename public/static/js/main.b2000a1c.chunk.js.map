{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","onClick","src","link","alt","name","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","currentUserInfo","style","backgroundImage","avatar","about","map","Footer","PopupWithForm","title","buttonTitle","children","isOpen","onClose","onSubmit","action","ImagePopup","EditProfilePopup","onUpdateUser","useEffect","setName","setDescription","useState","description","e","preventDefault","value","onChange","target","id","required","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","placeholder","AddPlacePopup","cardNameRef","cardLinkRef","api","config","this","_baseUrl","baseUrl","_headers","headers","url","method","body","fetch","then","res","ok","json","Promise","reject","status","_fetch","values","JSON","stringify","cardId","takeCardLike","removeCardLke","authorization","App","isEditProfilePopupOpen","setIsEditPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","closeAllPopups","getUserData","userData","catch","err","console","log","setCards","getInitialCards","cardList","Provider","changeLikeCardStatus","newCard","newCards","c","delCard","newCardsTemplate","filter","patchUserData","patchUserAvatar","data","addUserCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b2000a1c.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nfunction Header() {\r\nreturn (\r\n    <header className=\"header\">\r\n            <div className=\"header__logo\" />\r\n          </header>\r\n)\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from \"react\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\n\r\nfunction Card({card, onCardClick, onCardLike, onCardDelete }) {\r\n\r\n      //Контекст\r\n      const currentUser = React.useContext(CurrentUserContext);\r\n\r\n      const isOwn = card.owner._id === currentUser._id;\r\n\r\n      const cardDeleteButtonClassName = (\r\n        `grid__delete-btn ${!isOwn && 'grid__delete-btn_hidden'}`\r\n      ); \r\n\r\n      const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n      const cardLikeButtonClassName = (\r\n        `grid__like-btn ${isLiked && 'grid__like_active-btn'}`\r\n      ); \r\n\r\n\r\n      function handleLikeClick() {\r\n        onCardLike(card);\r\n      }\r\n    \r\n      function handleCardDelete() {\r\n        onCardDelete(card);\r\n      }\r\n\r\n      function handleClick() {\r\n        onCardClick(card);\r\n      } \r\n\r\n  \r\n    return (\r\n        <li className=\"grid__item\">\r\n        <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleCardDelete}/>\r\n        <img src={card.link} alt={card.name} className=\"grid__image\" onClick={handleClick} />\r\n        <div className=\"grid__text-container\">\r\n          <h2 className=\"grid__text\">{card.name}</h2>\r\n          <div className=\"grid__like-container\">\r\n            <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick}/>\r\n            <div className=\"grid__like-counter\">{card.likes.length}</div>\r\n          </div>\r\n        </div>\r\n      </li>  \r\n      )\r\n  }\r\n\r\n\r\nexport default Card;","import React from \"react\"\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport Card from \"./Card\"\r\n\r\n\r\nfunction Main({onEditAvatar, onEditProfile, onAddPlace, onCardClick, cards, onCardLike, onCardDelete}) {\r\n\r\n  \r\n    //Контекст\r\n\r\n  const currentUserInfo = React.useContext(CurrentUserContext);\r\n        \r\n    return (\r\n        <main className=\"content\">\r\n        <section className=\"profile\">\r\n          <div className=\"profile__box\">\r\n            <div className=\"profile__avatar\" onClick={onEditAvatar} style={{ backgroundImage: `url(${currentUserInfo.avatar})` }} />\r\n            <div className=\"profile__text-content\">\r\n              <h1 className=\"profile__name\">{currentUserInfo.name}</h1>\r\n              <button className=\"profile__edit-btn\" type=\"button\" onClick={onEditProfile}/>\r\n              <p className=\"profile__description\">{currentUserInfo.about}</p>\r\n            </div>\r\n          </div>\r\n          <button className=\"profile__add-btn\" type=\"button\" onClick={onAddPlace} />\r\n        </section>\r\n        \r\n        <section className=\"grid\">\r\n          <ul className=\"grid__template\">\r\n          \r\n          {cards.map((card) => (<Card key={card._id} card={card} onCardClick={onCardClick} onCardLike={onCardLike} onCardDelete={onCardDelete} />))}\r\n            \r\n           \r\n          </ul>\r\n        </section>\r\n      </main>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\r\n          </footer>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\n\r\nfunction PopupWithForm({name, title, buttonTitle, children, isOpen, onClose, onSubmit}) {\r\n\r\n  \r\n\r\n\r\n    return (\r\n        <div className={`popup popup_type_${name}  ${isOpen && 'popup_is-open'}`}>\r\n            <form className=\"popup__form\" name={`${name}__form`} action=\"#\" onSubmit={onSubmit}>\r\n              <button className=\"popup__close-btn\" type=\"button\" onClick={onClose} />\r\n              <p className=\"popup__header\">{title}</p>\r\n              {children}\r\n              <button type=\"submit\" className=\"popup__submit-btn\">{buttonTitle}</button>\r\n            </form>\r\n          </div>\r\n    );\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\n\r\nfunction ImagePopup({card, onClose}) {\r\n  \r\nreturn(\r\n    <div className={`popup popup_type_grid-img ${card ? 'popup_is-open' : ''}`}>\r\n            <div className=\"popup__form\">\r\n              <button className=\"popup__close-btn\" type=\"button\" onClick={onClose} />\r\n              <img className=\"popup__image\" src={card.link} alt={card.name} />\r\n              <h2 className=\"popup__title\">{card.name}</h2> \r\n            </div>\r\n          </div>\r\n)\r\n}\r\n\r\nexport default ImagePopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]); \r\n\r\n\r\n    const [name, setName] = React.useState(`${currentUser.name}`);\r\n    const [description, setDescription] = React.useState(`${currentUser.about}`);\r\n\r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value);\r\n      }\r\n\r\n      function handleChangeDescription(e) {\r\n        setDescription(e.target.value);\r\n      }\r\n\r\n      function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateUser({\r\n          name,\r\n          about: description,\r\n        });\r\n      } \r\n      \r\n\r\n    return (\r\n        <PopupWithForm onSubmit={handleSubmit} name=\"edit-profile\" title=\"Редактировать профиль\" buttonTitle=\"Сохранить\" isOpen={isOpen} onClose={onClose} >\r\n        <input type=\"text\" value={name} onChange={handleChangeName} id=\"name\" className=\"popup__input popup__input_invalid popup__text_name\" required minLength={2} maxLength={40}/>\r\n        <span className=\"popup__error popup__error_is-active\" id=\"name-error\" />\r\n        <input type=\"text\" value={description} onChange={handleChangeDescription} id=\"description\" className=\"popup__input popup__input_invalid popup__text_description\" required minLength={2} maxLength={200} />\r\n        <span className=\"popup__error popup__error_is-active\" id=\"description-error\"/></PopupWithForm>\r\n    )\r\n\r\n}\r\n\r\n\r\nexport default EditProfilePopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\r\n\r\n    const avatarRef = React.useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateAvatar({\r\n            avatar: avatarRef.current.value\r\n        });\r\n      } \r\n      \r\n      \r\n    return (\r\n        <PopupWithForm onSubmit={handleSubmit} name=\"edit-avatar\" title=\"Обновить аватар\" buttonTitle=\"Сохранить\" isOpen={isOpen} onClose={onClose}>\r\n              <input ref={avatarRef} type=\"url\" name=\"image-src\" id=\"image-src\"  className=\"popup__input popup__source\" placeholder=\"Ссылка на картинку\" required />\r\n                  <span className=\"popup__error popup__error_is-active\" id=\"image-src-error\" />\r\n                </PopupWithForm> \r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup({isOpen, onClose, onAddPlace}) {\r\n\r\n    const cardNameRef = React.useRef();\r\n    const cardLinkRef = React.useRef();\r\n\r\n\r\n   function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onAddPlace({\r\n        name: cardNameRef.current.value,\r\n        link: cardLinkRef.current.value\r\n    });\r\n   }\r\n    \r\n\r\n    return (\r\n        <PopupWithForm onSubmit={handleSubmit} name=\"add-cards\" title=\"Новое место\" buttonTitle=\"Создать\" isOpen={isOpen} onClose={onClose}>\r\n                  <input ref={cardNameRef} type=\"text\" name=\"image-title\" id=\"image-title\" className=\"popup__input popup__input_invalid popup__text_place\" placeholder=\"Название\" required minLength={2} maxLength={30} />\r\n                  <span className=\"popup__error popup__error_is-active\" id=\"image-title-error\" />\r\n                  <input ref={cardLinkRef} type=\"url\" name=\"image-src\" id=\"image-src\" className=\"popup__input popup__source\" placeholder=\"Ссылка на картинку\" required />\r\n                  <span className=\"popup__error popup__error_is-active\" id=\"image-src-error\" /></PopupWithForm>\r\n    )\r\n\r\n}\r\n\r\nexport default AddPlacePopup;","class Api {\r\n    constructor(config){\r\nthis._baseUrl = config.baseUrl;\r\nthis._headers = config.headers;\r\n\r\n    }\r\n\r\n\r\n    _fetch(url, method, body) {\r\n        return fetch(this._baseUrl + url, {\r\n            method: method,\r\n            headers:\r\n            this._headers,\r\n            body: body\r\n        }).then(res => {\r\n            if (res.ok) {\r\n                return res.json();\r\n            }\r\n\r\n            return Promise.reject(`Ошибка: ${res.status}`);\r\n        })\r\n    }\r\n\r\n        \r\n    getInitialCards() {\r\n      return this._fetch('/cards', 'GET')\r\n    }\r\n  \r\n\r\n  addUserCard(values) {\r\n      return this._fetch('/cards', 'POST', JSON.stringify({\r\n          name: values.name,\r\n          link: values.link\r\n      }))\r\n  }\r\n\r\n  takeCardLike(cardId) {\r\n      return this._fetch(`/cards/likes/${cardId}`, 'PUT')\r\n  }\r\n\r\n  removeCardLke(cardId) {\r\n      return this._fetch(`/cards/likes/${cardId}`, 'DELETE')\r\n  }\r\n\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    if (isLiked) {\r\n        return this.takeCardLike(cardId)\r\n    } else {\r\n        return this.removeCardLke(cardId)\r\n    }\r\n}\r\n\r\n\r\n  delCard(cardId) {\r\n      return this._fetch(`/cards/${cardId}`, 'DELETE')\r\n  }\r\n\r\n  getUserData() {\r\n      return this._fetch('/users/me', 'GET')\r\n  }\r\n\r\n  patchUserData(values) {\r\n      return this._fetch('/users/me', 'PATCH', JSON.stringify(\r\n        {\r\n          name: values.name,\r\n          about: values.about\r\n      }))\r\n  }\r\n\r\n  patchUserAvatar(values) {\r\n      return this._fetch('/users/me/avatar', 'PATCH', JSON.stringify({\r\n          avatar: values.avatar\r\n      }))\r\n  }\r\n\r\n \r\n}\r\n\r\n\r\nconst api = new Api({\r\nbaseUrl: \"https://mesto.nomoreparties.co/v1/cohort-18\",\r\nheaders: {\r\n  authorization: \"1b98b7f8-c29f-4d66-ae18-3d1d376d7ed7\",\r\n  \"Content-Type\": \"application/json\"\r\n}\r\n});\r\n\r\nexport default api;","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport api from \"../utils/api\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\n\r\nfunction App() {\r\n\r\n  //Открытие попапов \r\n  const [isEditProfilePopupOpen, setIsEditPopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState(false);\r\n\r\n  // Стейт, отвечающий за данные текущего пользователя\r\n  const [currentUser, setCurrentUser] = React.useState({ name: 'Gudetama', about: \"lazylazy\", avatar: \"https://i.pinimg.com/originals/37/04/ef/3704efd795fcee0461946434db3c92c2.jpg\" });\r\n\r\n    React.useEffect(() => {\r\n      api.getUserData().then((userData) => {\r\n        setCurrentUser(userData)\r\n      }).catch((err) => {\r\n          console.log(\"Не загрузился юзер: \" + err);\r\n      });\r\n    }, []);\r\n\r\n\r\n      function handleEditProfileClick() {\r\n        setIsEditPopupOpen(true);\r\n      }\r\n    \r\n      function handleAddPlaceClick() {\r\n        setIsAddPlacePopupOpen(true);\r\n      }\r\n\r\n      function handleEditAvatarClick(){\r\n        setIsEditAvatarPopupOpen(true);\r\n      }\r\n\r\n      function handleCardClick(card) {\r\n        setSelectedCard(card);\r\n      }\r\n\r\n     // Закрытие попапов\r\n     function closeAllPopups() {\r\n      setIsEditPopupOpen(false);\r\n      setIsAddPlacePopupOpen(false);\r\n      setIsEditAvatarPopupOpen(false);\r\n      setSelectedCard(false);\r\n    }\r\n\r\n\r\n    // Обновление информации о текущем юзере\r\n    function handleUpdateUser(values) {\r\n      api.patchUserData(values).then(userData => {\r\n        setCurrentUser(userData);\r\n        closeAllPopups();\r\n      }).catch((err) => {\r\n          console.log(\"Не загрузить описание профиля: \" + err);\r\n      })\r\n    } \r\n\r\n    function handleUpdateAvatar(values) {\r\n      api.patchUserAvatar(values).then(userData => {\r\n        setCurrentUser(userData);\r\n        closeAllPopups();\r\n      }).catch((err) => {\r\n          console.log(\"Не загрузить аватар: \" + err);\r\n      })\r\n    }\r\n   \r\n\r\n    //Карточки и все, что с ними связано\r\n\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n\r\n    api.getInitialCards().then(cardList => setCards(cardList)\r\n      ).catch((err) => {\r\n          console.log(\"Не загрузились карточки: \" + err);\r\n      });\r\n    }, []);\r\n    \r\n\r\n    function handleAddPlaceSubmit(data) {\r\n      api.addUserCard(data).then((newCard) => {setCards([newCard, ...cards]);\r\n      closeAllPopups()}\r\n      ).catch((err) => {\r\n          console.log(\"Не добавить карточку: \" + err);\r\n      })\r\n    }\r\n\r\n\r\n    function handleCardLike(card) {\r\n      const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n      api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\r\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\r\n        setCards(newCards);\r\n      }).catch((err) => {\r\n        console.log(\"Не поставить лайк: \" + err);\r\n    })\r\n    } \r\n\r\n\r\n      function handleCardDelete(card) {\r\n        api.delCard(card._id).then(() => {\r\n        const newCardsTemplate = cards.filter((c) => c._id !== card._id);\r\n        setCards(newCardsTemplate);\r\n    }).catch((err) => {\r\n          console.log(\"Не удаляется карточка: \" + err); \r\n    }) \r\n    }\r\n\r\n    \r\n      \r\n\r\n      return (\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n\r\n        <div className=\"page\">\r\n          <div className=\"page__content\">\r\n\r\n              <Header />\r\n              <Main onEditProfile={handleEditProfileClick} \r\n                    onAddPlace={handleAddPlaceClick}\r\n                    onEditAvatar={handleEditAvatarClick}\r\n                    onCardClick={handleCardClick}\r\n                    cards={cards}\r\n                    onCardLike={handleCardLike}\r\n                    onCardDelete={handleCardDelete}/>\r\n              <Footer />\r\n              <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n              <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\r\n              <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}/>\r\n              <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit}/>\r\n              <PopupWithForm name=\"type_submit\" title=\"Вы уверены?\" buttonTitle=\"Да\"/>\r\n\r\n              \r\n          </div>\r\n        </div>\r\n      </CurrentUserContext.Provider>\r\n  );\r\n  \r\n};\r\n  \r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}